using AutoMapper;
using AutoWebPentester.API.Data;
using AutoWebPentester.API.DTOs;
using AutoWebPentester.API.Model;
using AutoWebPentester.API.Models;

namespace AutoWebPentester.API.Helper
{
    public class AutoMapperProfiles : Profile
    {
        private readonly DataContext _context;
        public AutoMapperProfiles(DataContext context)
        {
            _context = context;
        }
        public AutoMapperProfiles(){
            CreateMap<UserForRegisterDto,User>();
            CreateMap<UserForLoginDto,User>();
            CreateMap<WebSiteToAddDto,WebSite>();
            CreateMap<WebSiteWithDetailsDto,WebSite>();
            //CreateMap<PentestSketchDto, PentestSketch>();
            CreateMap<PentestSketch, PentestSketchDto>();
            CreateMap<PentestSketch,PentestSketchDetailsDto>()
                .ForMember(dest=>dest.Inputs,
                            opts=>opts.MapFrom(src=>src.GetInputsAsString()));
        }
    }
}